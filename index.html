<!DOCTYPE html>
<html>
	<head>
		<script src="./jquery-3.4.1.slim.min.js"></script>
		<script type="text/javascript" src="./app.js"></script>
		<script src="./jquery-3.1.1.js"></script>
		<script src="https://jqueryvalidation.org/files/dist/jquery.validate.js"></script>
		<script type="text/javascript" src="./validate.js"></script>
		<link rel="stylesheet" href="style.css">
		<audio id="win" src="AudioFiles/victory.mp3" preload="auto"></audio>
	</head>
	<header id="header">
		<img class="logo" src="pictures/logo.png" >
	</header>

	<body class="main_body">
		<br>
		<br>	
		<br>
		<div id="welcoming_page" >
			<script>
				var k_user = "k"
				var k_pass = "k"
				window.localStorage.setItem(k_user,k_pass);
			</script>
			<br>				
			<button class="cool_button" onclick="to_register_page()">Register</button>
			<button class="cool_button" onclick="to_login_page()">Log in</button>
		</div>
				

		<form class="form"  id="register_page" method="post" action="" style="display: none;" novalidate="novalidate">
			<div class="title">Registration  Page</div>
			<div class="subtitle">Please enter the following details:</div>
			<div class="input-container ic1">
			  <input type="text" class="input" placeholder=" " name="user_name" id="un" required="true" />
			  <div class="cut"></div>
			  <label for="un" class="placeholder">Username</label>
			</div>
			<div class="input-container ic2">
			  <input type="password" placeholder=" " class="input" name="password" id="password" required="true"/>
			  <div class="cut"></div>
			  <label for="psw_login" class="placeholder">Password</label>
			</div>
			<div class="input-container ic2">
				<input name="fullname" id="fullname" class="input" type="text" placeholder=" " required="true"/>
				<div class="cut cut-short"></div>
				<label for="Enter Full Name" class="placeholder">Full name</label>
			</div>
			<div class="input-container ic2">
				<input class=input type="email" placeholder=" " name="email" id="email" required="true"/>
				<div class="cut cut-short"></div>
				<label for="email" class="placeholder">Email Address</label>
			</div>
			<div>
			<div class="input-container ic2">
				<label class="placeholder_date" for="birth_date ">Date of birth:</label>
			<div class="cut cut-short"></div>
				<input class="input_date" type="date" id="birth_date" name="birth_date" 
					   value="2018-07-22"
					   min="1970-01-01" max="2020-12-31">
			</div>
		</div>

			<button class="cool_button" onclick="regBack()">Back</button>				
			<button id="reg_submit" class="cool_button" >Submit</button>			


			<script>
			
			function regBack(){
				to_main_page_from_register()
				$("#register_page")[0].reset();
			}

			</script>
		  </form>


	<form class="form" id="login_page" action="" style="display: none;" novalidate="novalidate">
      <div class="title">Login Page</div>
      <div class="subtitle">Please Provide Your Username And Password:</div>
      <div class="input-container ic1">
        <input type="text" class="input" placeholder=" " name="user_name_login" id="user_name_login" required />
        <div class="cut"></div>
        <label for="user_name_login" class="placeholder">Username</label>
      </div>
      <div class="input-container ic2">
        <input type="password" placeholder=" " class="input" name="psw_login" id="psw_login" required/>
        <div class="cut"></div>
        <label for="psw_login" class="placeholder">Password</label>
      </div>
	  <button class="cool_button" type="button" onclick="loginBack()">Back</button>
	  <button id="login_submit" class="cool_button" >Login</button>	
    </form	>
	
	<script>
		function loginBack(){
			to_main_page_from_login();
			$("#login_page")[0].reset();
		}
		function loginNext(){
			to_options_page_from_login();
			$("#login_page")[0].reset();
		}
		</script>
	
		<div>
			<div id="options_page" style="display: none; " class="options_page"  >				
				<div class="option_keys">							
					<button class="key_button " id="key_button_up" onclick="swich_controls('key_button_up')">↑</button>	
					<br>	
					<label class="options_text  controls_text"> Controls: </label> 
					<button class="key_button option_key_middle" id="key_button_left" onclick="swich_controls('key_button_left')">←</button>		
					<button class="key_button option_key_middle" id="key_button_right" onclick="swich_controls('key_button_right')">→</button>		
					<br>
					<button class="key_button " id="key_button_down" onclick="swich_controls('key_button_down')">↓</button>	
				</div>
				<br>
				<label class="options_text option_balls"> Number of point balls: </label> 					
				<select name="num_balls" id="num_balls" class="selector option_balls"></select>
				<br>
				<label class="options_text option_colors"> Balls colors: </label> 	
				<label class=" option_colors"> 5 point ball </label> 	
				<input type="color" id="ball_color1" name="ball_color1"value="#A9E698" class="options_text option_colors">
				<label class=" option_colors"> 15 point ball </label> 	
				<input type="color" id="ball_color2" name="ball_color2"value="#9717E5" class="options_text option_colors">
				<label class=" option_colors"> 25 point ball </label> 	
				<input type="color" id="ball_color3" name="ball_color3"value="#3C63E6" class="options_text option_colors">
				<br>
				<label class="options_text option_duration"> Game duration (In seconds): </label> 
				<select name="duration" id="duration" class="selector option_duration"></select>
				<br>
				<label class="options_text option_ghosts"> Number of ghosts: </label> 
				<select name="ghosts" id="ghosts" class="selector option_ghosts"></select>		
				<br>
				<button class="random_button" onclick="randomize_settings()">Randomize Options</button>
				<br>
				<button class="cool_button_play" onclick="to_game_page_from_options()">Start New Game</button>		
				<br>
				<br>
				<br>
			</div>
				<div id="game_page" style="display: none;" class="game_page">
					<br>
					<br>
					<br>
					<br>
					<div class="game_status">

						<label for="lblScore">SCORE:</label>
						<input id="lblScore" type="game_text" />
						<label for="lblTime">TIME:</label>
						<input id="lblTime" type="game_text" />
						<label for="lblTries">Tries:</label>
						<input id="lblTries" type="game_text" />

					</div>	
					<br>
					<br>
					<canvas id="canvas" height="780" width="1200"></canvas>
					
					<label class="ingame_options">Player Name:</label>
					<label class="ingame_options" id="gamer_name"> </label>
					<br>
					<br>
					<label class="ingame_options"> Up key:</label>
					<label class="ingame_options" id="display_up"></label>
					<br>
					<br>
					<label class="ingame_options"> Right key:</label>
					<label class="ingame_options" id="display_right"></label>
					<br>
					<br>
					<label class="ingame_options"> Left key:</label>
					<label class="ingame_options" id="display_left"></label>
					<br>
					<br>
					<label class="ingame_options"> Down key:</label>
					<label class="ingame_options" id="display_down"></label>
					<br>
					<br>
					<label class="ingame_options" for="ball_number"> Ball number:</label>
					<label class="ingame_options" id="ball_number"></label>
					<br>
					<br>
					<label class="ingame_options" for="b_color1"> 5 point ball color:</label> 					
					<input  type="color" id="b_color1" readonly>
					<br>
					<br>
					<label class="ingame_options" for="b_color2"> 15 point ball color:</label>
					<input type="color" id="b_color2" readonly>
					<br>
					<br>
					<label class="ingame_options" for="b_color3"> 25 point ball color:</label>
					<input  type="color" id="b_color3" readonly>
					<br>
					<br>
					<label class="ingame_options" for="game_d"> Game duration:</label>
					<label class="ingame_options" id="game_d"></label>
					<label class="ingame_options"> seconds</label>
					<br>
					<br>					
					<label  class="ingame_options" for="ghosts_num"> Number of ghosts:</label>
					<label  class="ingame_options" id="ghosts_num"></label>
					<br>
					<label> </label>
										
					
					<button class="cool_button_play" onclick="play_again()">Start New Game</button>		

				</div>
			</div>												
			
			  <div id="nav" style="display: none;" class="nav">	
				<button class="nav_button" id="menu_Options" onclick="to_options_from_game()">Options</button>	
				<button class="nav_button" id="menu_about" onclick="openModal()" >About</button>									
				<button class="nav_button" id="menu_logout" onclick="logout_from_game()">Log Out</button>	
			  </div>


			  <dialog class="modal" id="modal" >
				  <h2> Presenters: Dor Amsalem, Alon Sadot. </h2>
				  <P> 
					We have used the "jQuery Validation Plugin" for the forms validation,
					<br>
					and jquery-3.1.1. (The query 3.4.1 slim was already in the task forms)
					<br>
					and for its design the "Placeholdersm Mikael Ainalem" Template. 
					<br>
					We have faced some difficulties using the jquery plugin, since the
					<br>
					submitHandler applied two methods instead of one.
				  </P>			
				  <button class="button close-button" onclick="closeModal()"> X </button>
			  </dialog>

			  <script>
				const myDialog = document.querySelector("#modal");

			 	myDialog.addEventListener("click", (e) => {
			 		const rect = myDialog.getBoundingClientRect();
					if (
						e.clientY < rect.top ||
						e.clientY > rect.bottom ||
						e.clientX < rect.left ||
						e.clientX > rect.right
					) {
						modal.close();
					}
				});	 
			  </script>
		</div>
	</body>

	<footer>
		<br>
		<p>Contact us at: sadotal@post.bgu.ac.il | amsador@post.bgu.ac.il</p>
	</footer>
</html>
